<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>X4 Torus Aeternal Switch Puzzle - Puzzle Mechanics</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;text-align:center;margin:2rem;background:#000;color:#fff;}
  .mode-selector{margin-bottom:2rem;}
  .mode-btn{padding:.5rem 1rem;margin:0 .5rem;border:2px solid #666;background:#333;color:#fff;cursor:pointer;border-radius:.25rem;}
  .mode-btn.active{background:#2e7d32;color:white;}
  .board{display:grid;grid-template-columns:repeat(2,auto) 2rem repeat(2,auto);grid-gap:1rem;justify-content:center;margin-bottom:2rem;}
  .space{width:2rem;height:2rem;}
  .switch{
    width:4rem;height:4rem;border:2px solid #666;border-radius:.5rem;display:flex;align-items:center;justify-content:center;
    color:#fff;font-size:1.25rem;cursor:pointer;user-select:none;transition:background .2s;
  }
  .off{background:#c62828;}  /* red */
  .on {background:#2e7d32;}  /* green */
  .locked{border-color:#ffeb3b !important;box-shadow:0 0 8px #ffeb3b;}
  .lock-toggle{cursor:pointer;font-size:.8rem;margin-top:.25rem;display:block;color:#ccc;}
  ol{max-width:40rem;margin:0 auto;text-align:left;color:#fff;}
  .unsolvable{color:#ff6666;font-weight:bold;}
  .mode-description{margin-bottom:1rem;padding:1rem;background:#222;border:1px solid #444;border-radius:.5rem;max-width:50rem;margin:0 auto 2rem auto;color:#fff;}
  h1, h2{color:#fff;}
  .phase-details{background:#333;padding:1rem;margin:1rem 0;border-radius:.5rem;border-left:4px solid #2e7d32;}
  .off-set{color:#ff6666;font-weight:bold;}
  .upstream-walk{color:#ffeb3b;}
  .explanation-section {
    background: #222;
    padding: 1.5rem;
    margin: 1.5rem auto;
    border: 1px solid #444;
    border-radius: .75rem;
    max-width: 60rem;
    text-align: left;
  }
  .explanation-section h3 {
    color: #2e7d32;
    margin-top: 0;
    border-bottom: 1px solid #444;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
  }
  .explanation-section p {
    margin-bottom: 1rem;
    line-height: 1.6;
  }
  .explanation-section ul {
    list-style-type: disc;
    margin-left: 1.5rem;
    margin-bottom: 1rem;
  }
  .explanation-section li {
    margin-bottom: 0.5rem;
  }
  .important-note {
    color: #ffeb3b;
    font-weight: bold;
  }
</style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZX9NRMTKM5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZX9NRMTKM5');
</script>
</head>
<body>
<h1>X4 Torus Aeternal Switch Puzzle</h1>
<p><a href="index.html" style="color:#ffeb3b; text-decoration:underline;">Back to Puzzle</a></p>

<div style="margin-bottom:1rem;padding:1rem;background:#444;border:1px solid #666;border-radius:.5rem;max-width:50rem;margin:0 auto 1rem auto;color:#ffeb3b;">
  <strong>⚠️ DISCLAIMER:</strong> The ruleset explained here is estimated based on observations of a reference puzzle and may be incorrect. We are attempting to reverse-engineer the correct behavior by comparing our implementation against known reference results. If you find the steps provided are not correct and want to contribute, please visit the Data Collection interface on the main puzzle page.</strong>
</div>

<div class="explanation-section">
  <h2>How the Puzzle Works</h2>
  <p>
    The X4 Torus Aeternal Switch Puzzle is a logic challenge with 8 switches. Each switch can be ON (green) or OFF (red), and can be either locked or unlocked. Your goal is to turn <strong>all 8 switches ON</strong> at the same time.
  </p>

  <h3>Switches, Locks, and the Three-Phase Move</h3>
  <ul>
    <li>Each switch is numbered 1 to 8. ON = green, OFF = red.</li>
    <li>Some switches may be <strong>locked</strong>. You can only press switches that are <strong>unlocked</strong>.</li>
    <li>When you press an unlocked switch, a <strong>three-phase process</strong> happens:
      <ol>
        <li>
          <strong>Reset Phase:</strong> All locks are cleared. Every switch becomes unlocked.
        </li>
        <li>
          <strong>Flip Phase:</strong> The switch you pressed, <em>and</em> certain other switches connected to it, will toggle their ON/OFF state. (If ON, they turn OFF; if OFF, they turn ON.)
        </li>
        <li>
          <strong>Re-lock Phase:</strong> The puzzle alternates between two lock modes:
          <ul>
            <li><strong>Mode 1:</strong> Switches 1, 2, and 3 are unlocked; switches 6, 7, and 8 are locked.</li>
            <li><strong>Mode 2:</strong> Switches 1, 2, and 3 are locked; switches 6, 7, and 8 are unlocked.</li>
          </ul>
          After every move, the lock mode toggles. If you were in Mode 1, you switch to Mode 2, and vice versa.
        </li>
      </ol>
    </li>
  </ul>

  <h3>Switch Connections: What Gets Flipped?</h3>
  <p>
    When you press a switch, it always flips itself. It may also flip other switches, depending on its connections. Here is the map:
  </p>
  <ul>
    <li><strong>Press Switch 1:</strong> Flips itself and Switch 2</li>
    <li><strong>Press Switch 2:</strong> Flips itself, Switch 1, and Switch 3</li>
    <li><strong>Press Switch 3:</strong> Flips itself and Switch 4</li>
    <li><strong>Press Switch 4:</strong> Flips itself and Switch 5</li>
    <li><strong>Press Switch 5:</strong> Flips itself and Switch 4</li>
    <li><strong>Press Switch 6:</strong> Flips itself and Switch 5</li>
    <li><strong>Press Switch 7:</strong> Flips itself and Switch 8</li>
    <li><strong>Press Switch 8:</strong> Flips itself, Switch 6, and Switch 7</li>
  </ul>
  <p>
    This means pressing a switch can have a chain reaction, toggling multiple switches at once.
  </p>

  <h3>How to Play and Win</h3>
  <ul>
    <li>You can only press switches that are currently unlocked (not locked).</li>
    <li>After every move, the lock mode alternates, restricting which switches you can press next.</li>
    <li>Your mission: Find a sequence of moves that turns all 8 switches ON at the same time.</li>
  </ul>

  <h3>Strategy and Tips</h3>
  <ul>
    <li>
      <strong>Plan for the Lock Alternation:</strong> After every move, the set of switches you can press changes. If you just pressed a switch while switches 1-3 were unlocked, now only switches 6-8 will be unlocked (and vice versa). This means you often need to alternate between the two groups to make progress.
    </li>
    <li>
      <strong>Understand the Connections:</strong> Pressing a switch can flip itself and its neighbors. For example, pressing Switch 2 flips Switches 1, 2, and 3. Use this to your advantage to flip multiple switches at once.
    </li>
    <li>
      <strong>Think Ahead:</strong> Because of the lock alternation and the chain reactions, you need to plan several moves ahead. Sometimes you may need to "set up" the board by flipping switches in one group so you can finish with the other group.
    </li>
    <li>
      <strong>Look for Patterns:</strong> Try to notice which switches affect which others, and how the lock mode changes your available options. Sometimes, flipping a switch may undo progress if you aren't careful.
    </li>
    <li>
      <strong>Don't Give Up:</strong> The puzzle is designed to be tricky! If you get stuck, try to reset and experiment with different starting moves.
    </li>
  </ul>
  <p class="important-note">The goal: All 8 switches ON (green) at the same time. Good luck!</p>
</div>

<footer>
  <p>This project is located at <a href="https://github.com/radialmonster/x4-torus-aeternal-switch-puzzle" style="color:#ffeb3b; text-decoration:underline;">https://github.com/radialmonster/x4-torus-aeternal-switch-puzzle</a></p>
  <p>You may send me a virtual gift at <a href="https://radialmonster.github.io/send-a-virtual-gift/" style="color:var(--color-lock); text-decoration:underline;">https://radialmonster.github.io/send-a-virtual-gift/</a> if you would like to say thank youk!</p>
</footer>
</body>
</html>
